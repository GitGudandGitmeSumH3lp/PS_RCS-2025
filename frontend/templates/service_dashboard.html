<!-- 
  PS_RCS_PROJECT
  Copyright (c) 2026. All rights reserved.
 
  File: service_dashboard.html
  Description: Main dashboard interface structure for the Service subsystem.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PS-RCS Dashboard v{{ app_version }}</title>
  <link rel="stylesheet" href="/static/css/service_theme.css">
</head>
<body data-theme="dark">
  
  <header id="global-status-bar" class="status-bar">
    <div id="connection-indicator" class="status-badge" data-connected="false">CONN: OFFLINE</div>
    <div id="battery-display" class="status-metric" data-voltage="0.0">0.0V</div>
    <button id="theme-toggle" class="icon-button" aria-label="Toggle theme">üåì</button>
  </header>

  <main id="dashboard-grid" class="service-grid">
    
    <!-- Active Module: Motor Control -->
    <section id="motor-control-card" class="service-card active">
      <header class="card-header">
        <h2>Motor Control</h2>
        <span id="motor-status" class="module-status-badge" data-status="online">ONLINE</span>
      </header>
      <div class="card-body">
        <div id="speed-control" class="control-group"></div>
        <div id="direction-pad" class="d-pad"></div>
      </div>
    </section>

    <!-- Placeholder: Lidar -->
    <section id="lidar-card" class="service-card placeholder">
      <header class="card-header">
        <h2>Lidar System</h2>
        <span id="lidar-status" class="module-status-badge" data-status="offline">OFFLINE</span>
      </header>
      <div class="card-body placeholder-content">
        <p class="placeholder-text">Module Ready for Integration</p>
      </div>
    </section>

    <!-- Active Module: Vision System -->
    <section id="vision-card" class="dashboard-card">
      <div class="card-header">
        <h3>üìπ Live Camera Feed</h3>
        <span class="status-indicator" id="camera-status">‚óè</span>
      </div>
      <div class="card-body">
        <img id="video-stream" 
             src="/api/vision/stream" 
             alt="Camera feed"
             onerror="this.src='/static/img/no-camera.png'"
             style="width: 100%; height: auto; border-radius: 8px;">
        <button id="scan-btn" class="action-btn">Scan Label</button>
      </div>
    </section>

    <!-- Active Module: OCR Results -->
    <section id="scan-results-card" class="dashboard-card">
      <div class="card-header">
        <h3>üìÑ Last Scan Result</h3>
      </div>
      <div class="card-body">
        <div id="scan-data">
          <p><strong>Tracking ID:</strong> <span id="tracking-id">-</span></p>
          <p><strong>Order ID:</strong> <span id="order-id">-</span></p>
          <p><strong>RTS Code:</strong> <span id="rts-code">-</span></p>
          <p><strong>District:</strong> <span id="district">-</span></p>
          <p><strong>Confidence:</strong> <span id="confidence">-</span></p>
          <p><strong>Time:</strong> <span id="scan-time">-</span></p>
        </div>
      </div>
    </section>

  </main>

  <script src="/static/js/dashboard-core.js"></script>
</body>
</html>